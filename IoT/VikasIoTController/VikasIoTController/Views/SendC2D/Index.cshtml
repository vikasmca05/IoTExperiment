@*@model VikasIoTController.Models.SendC2DViewModel*@
@model IEnumerable<Microsoft.Azure.Devices.Device>

@{
    ViewBag.Title = "Send Event Page";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title></title>
</head>

<body>
    @*@using (Html.BeginForm("SendMessage", "SendC2D", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        <div class="form-group">
           
            <div class="col-md-10">
                @Html.DropDownListFor(m => m.RemoteCommandId,
                    new SelectList(Enum.GetValues(typeof(VikasIoTController.Models.MessageCommand))),
                    "Select Command")
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" class="btn btn-default" value="SendMessage" />
            </div>
        </div>
    }
    <div>
        


    </div>*@
    @foreach (var device in Model)
    {
        <hr />
        <form class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-2 control-label">Id</label>
                <div class="col-sm-10">
                    <p class="form-control-static">@(device.Id)</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Connection State</label>
                <div class="col-sm-10">
                    <p class="form-control-static">@(device.ConnectionState)</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Updated Time</label>
                <div class="col-sm-10">
                    <p class="form-control-static">@(device.ConnectionStateUpdatedTime)</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">Status</label>
                <div class="col-sm-10">
                    <p class="form-control-static">@(device.Status)</p>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label">LastActivity</label>
                <div class="col-sm-10">
                    <p class="form-control-static">@(device.LastActivityTime)</p>
                </div>
            </div>
            @*<div class="form-group">

                @Html.DropDownList("SelectedCommandType", (IEnumerable<SelectListItem>)ViewBag.CommandType)    
            </div>*@
            <div class="form-group">
                @(Html.ActionLink("SendMessage", "SendMessage", "SendC2D", new { id = device.Id }, new { @class = "btn btn-info" }))
            </div>
        </form>
    }
</body>
</html>
